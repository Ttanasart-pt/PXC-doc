<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

<p>Blending surfaces is a fundamental step in any VFX process. Blend node allows you to combine 2 surfaces 
under different blend mode.</p>
<br><br>
<h2>Blend Modes</h2>
<br>
<p><junc Blend mode> control how the surface is being mixed. Blend modes available in the this node are:</p>
<br>
<table class="ccc203050">
    <tr>
        <th>Mode</th>
        <th>Operation</th>
        <th>Example</th>
    </tr>
    <tr>
        <td>Normal</td>
        <td>$$C_{out} = C_{fg}C_{fg.a} + C_{bg}(1-C_{fg.a})$$</td>
        <td></td>
    </tr>
    <tr>
        <td>Add</td>
        <td>$$C_{out} = C_{fg} + C_{bg}$$</td>
        <td></td>
    </tr>
    <tr>
        <td>Subtract</td>
        <td>$$C_{out} = C_{fg} - C_{bg}$$</td>
        <td></td>
    </tr>
    <tr>
        <td>Multiply</td>
        <td>$$C_{out} = C_{fg}C_{bg}$$</td>
        <td></td>
    </tr>
    <tr>
        <td>Screen</td>
        <td>$$C_{out} = 1 - (1-C_{fg})(1-C_{bg})$$</td>
        <td></td>
    </tr>
    <tr>
        <td>Overlay</td>
        <td>$$C_{out} = \begin {cases} 2C_{fg}C_{bg} & C_{fg} < 0.5 \\ 1 - 2(1-C_{fg})(1-C_{bg}) & C_{fg} \ge 0.5 \end {cases}$$</td>
        <td></td>
    </tr>
    <tr>
        <td>Hue</td>
        <td>Transfer the hue of the foreground to the background</td>
        <td></td>
    </tr>
    <tr>
        <td>Saturation</td>
        <td>Transfer the saturation of the foreground to the background</td>
        <td></td>
    </tr>
    <tr>
        <td>Luminosity</td>
        <td>Transfer the luminosity of the foreground to the background</td>
        <td></td>
    </tr>
    <tr>
        <td>Maximum</td>
        <td>$$C_{out} = max(C_{fg}, C_{bg})$$</td>
        <td></td>
    </tr>
    <tr>
        <td>Minimum</td>
        <td>$$C_{out} = min(C_{fg}, C_{bg})$$</td>
        <td></td>
    </tr>
    <tr>
        <td>Replace</td>
        <td>$$C_{out} = C_{fg}$$</td>
        <td></td>
    </tr>
    <tr>
        <td>Difference</td>
        <td>$$C_{out} = |C_{fg} - C_{bg}|$$</td>
        <td></td>
    </tr>
</table>
<br>
<h3>Opacity</h3>
<br>
<p>The intensity of the effect will be multiply by the <junc Opacity> property.</p>
<br>
<h3>Preserve Alpha</h3>
<br>
<p>Blend operation apply to all channel including alpha channel. Which mean some operation may erase the 
alpha channel of the original image. To exclude the alpha calculation, set <junc Preserve Alpha> to true.</p>
<br><br>
<h2>Dimension Mixing</h2>
<br>
<p>When blending surfaces of different sizes. You can set the blending behaviour using several properties:</p>
<br>
<h3>Filling</h3>
<br>
<p>The <junc Fill mode> property control the behaviour of the smaller surface.</p>
<br>
<table class="cc4060">
    <tr>
        <th>Mode</th>
        <th>Description</th>
    </tr>
    <tr>
        <td>None</td>
        <td>Do nothing, place smaller surface directly.</td>
    </tr>
    <tr>
        <td>Stretch</td>
        <td>Stretch the smaller surface to fit the larger surface.</td>
    </tr>
    <tr>
        <td>Tile</td>
        <td>Tile the smaller surface to fit the larger surface.</td>
    </tr>
</table>
<br>
<h3>Alignment</h3>
<br>
<p>When <junc Fill mode> is set to None, you can move the foreground freely in the preview panel.</p>